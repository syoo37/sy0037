```python
!sudo apt-get install -y fonts-nanum
!sudo fc-cache -fv]
!rm ~/.cache/matplotlib -rf
```

    Reading package lists... Done
    Building dependency tree       
    Reading state information... Done
    fonts-nanum is already the newest version (20170925-1).
    The following package was automatically installed and is no longer required:
      libnvidia-common-460
    Use 'sudo apt autoremove' to remove it.
    0 upgraded, 0 newly installed, 0 to remove and 49 not upgraded.
    fc-cache: invalid option -- ']'
    usage: fc-cache [-EfrsvVh] [-y SYSROOT] [--error-on-no-fonts] [--force|--really-force] [--sysroot=SYSROOT] [--system-only] [--verbose] [--version] [--help] [dirs]
    Build font information caches in [dirs]
    (all directories in font configuration by default).
    
      -E, --error-on-no-fonts  raise an error if no fonts in a directory
      -f, --force              scan directories with apparently valid caches
      -r, --really-force       erase all existing caches, then rescan
      -s, --system-only        scan system-wide directories only
      -y, --sysroot=SYSROOT    prepend SYSROOT to all paths for scanning
      -v, --verbose            display status information while busy
      -V, --version            display font config version and exit
      -h, --help               display this help and exit
    


```python
import matplotlib.pyplot as plt
plt.rc('font', family='NanumBarunGothic')

from google.colab import drive
drive.mount('/content/drive')

import pandas as pd
```

    Drive already mounted at /content/drive; to attempt to forcibly remount, call drive.mount("/content/drive", force_remount=True).
    

# 데이터 살펴보기

## 데이터 준비


```python
train = pd.read_csv('/content/drive/MyDrive/2.따릉이/train.csv')
test = pd.read_csv('/content/drive/MyDrive/2.따릉이/test.csv')
submission = pd.read_csv('/content/drive/MyDrive/2.따릉이/sample_submission.csv')
```

# 랜덤포레스트

n_estimators = 100 (의사결정 나무의 수)

random_state = 0 

max_depth = 5 (노드의 깊이)


```python
# date_time 쪼개기 -> year, month, day
train['year'] = train['date_time'].apply(lambda x : x.split('-')[0])
train['month'] = train['date_time'].apply(lambda x : x.split('-')[1])
train['day'] = train['date_time'].apply(lambda x : x.split('-')[2])

# 요일 정보 추가
week_day = pd.to_datetime(train['date_time']).dt.day_name()
train['week_day'] = week_day

# 가공한 변수 타입 변경
train['year'] = train['year'].astype('int')
train['month'] = train['month'].astype('int')
train['day'] = train['day'].astype('int')

train.loc[train['week_day'] == 'Sunday', 'week_day'] = 0
train.loc[train['week_day'] == 'Monday', 'week_day'] = 1
train.loc[train['week_day'] == 'Tuesday', 'week_day'] = 2
train.loc[train['week_day'] == 'Wednesday', 'week_day'] = 3
train.loc[train['week_day'] == 'Thursday', 'week_day'] = 4
train.loc[train['week_day'] == 'Friday', 'week_day'] = 5
train.loc[train['week_day'] == 'Saturday', 'week_day'] = 6
train['week_day'] = train['week_day'].astype('int')

train.head()
```





  <div id="df-f34c74f9-4f0e-489d-a73a-3b896ba58a9c">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>date_time</th>
      <th>wind_direction</th>
      <th>sky_condition</th>
      <th>precipitation_form</th>
      <th>wind_speed</th>
      <th>humidity</th>
      <th>low_temp</th>
      <th>high_temp</th>
      <th>Precipitation_Probability</th>
      <th>number_of_rentals</th>
      <th>year</th>
      <th>month</th>
      <th>day</th>
      <th>week_day</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2018-04-01</td>
      <td>207.500</td>
      <td>4.000</td>
      <td>0.000</td>
      <td>3.050</td>
      <td>75.000</td>
      <td>12.600</td>
      <td>21.000</td>
      <td>30.000</td>
      <td>22994</td>
      <td>2018</td>
      <td>4</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2018-04-02</td>
      <td>208.317</td>
      <td>2.950</td>
      <td>0.000</td>
      <td>3.278</td>
      <td>69.833</td>
      <td>12.812</td>
      <td>19.000</td>
      <td>19.500</td>
      <td>28139</td>
      <td>2018</td>
      <td>4</td>
      <td>2</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2018-04-03</td>
      <td>213.516</td>
      <td>2.911</td>
      <td>0.000</td>
      <td>2.690</td>
      <td>74.879</td>
      <td>10.312</td>
      <td>15.316</td>
      <td>19.113</td>
      <td>26817</td>
      <td>2018</td>
      <td>4</td>
      <td>3</td>
      <td>2</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2018-04-04</td>
      <td>143.836</td>
      <td>3.692</td>
      <td>0.425</td>
      <td>3.138</td>
      <td>71.849</td>
      <td>8.312</td>
      <td>12.368</td>
      <td>43.493</td>
      <td>26034</td>
      <td>2018</td>
      <td>4</td>
      <td>4</td>
      <td>3</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2018-04-05</td>
      <td>95.905</td>
      <td>4.000</td>
      <td>0.723</td>
      <td>3.186</td>
      <td>73.784</td>
      <td>5.875</td>
      <td>10.421</td>
      <td>63.378</td>
      <td>2833</td>
      <td>2018</td>
      <td>4</td>
      <td>5</td>
      <td>4</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-f34c74f9-4f0e-489d-a73a-3b896ba58a9c')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>

  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-f34c74f9-4f0e-489d-a73a-3b896ba58a9c button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-f34c74f9-4f0e-489d-a73a-3b896ba58a9c');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>





```python
# 피쳐 제거
train = train.drop(['week_day'],axis = 1)
train = train.drop(['day'],axis = 1)
train = train.drop(['date_time'],axis = 1)

# 더위 점수
train['hot_score'] = train['high_temp'] * train['humidity']

# 추위 점수
train['cold_score'] = train['wind_speed'] / train['low_temp']
```


```python
# date_time 쪼개기 -> year, month, day
test['year'] = test['date_time'].apply(lambda x : x.split('-')[0])
test['month'] = test['date_time'].apply(lambda x : x.split('-')[1])
test['day'] = test['date_time'].apply(lambda x : x.split('-')[2])

# 요일 정보 추가
week_day = pd.to_datetime(test['date_time']).dt.day_name()
test['week_day'] = week_day

# 가공한 변수 타입 변경
test['year'] = test['year'].astype('int')
test['month'] = test['month'].astype('int')
test['day'] = test['day'].astype('int')

test.loc[test['week_day'] == 'Sunday', 'week_day'] = 0
test.loc[test['week_day'] == 'Monday', 'week_day'] = 1
test.loc[test['week_day'] == 'Tuesday', 'week_day'] = 2
test.loc[test['week_day'] == 'Wednesday', 'week_day'] = 3
test.loc[test['week_day'] == 'Thursday', 'week_day'] = 4
test.loc[test['week_day'] == 'Friday', 'week_day'] = 5
test.loc[test['week_day'] == 'Saturday', 'week_day'] = 6
test['week_day'] = test['week_day'].astype('int')

test.head()
```





  <div id="df-b5119128-a449-43cd-8778-8b624aecfe9f">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>date_time</th>
      <th>wind_direction</th>
      <th>sky_condition</th>
      <th>precipitation_form</th>
      <th>wind_speed</th>
      <th>humidity</th>
      <th>low_temp</th>
      <th>high_temp</th>
      <th>Precipitation_Probability</th>
      <th>year</th>
      <th>month</th>
      <th>day</th>
      <th>week_day</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2021-04-01</td>
      <td>108.833</td>
      <td>3.000</td>
      <td>0.000</td>
      <td>2.900</td>
      <td>28.333</td>
      <td>11.800</td>
      <td>20.667</td>
      <td>18.333</td>
      <td>2021</td>
      <td>4</td>
      <td>1</td>
      <td>4</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2021-04-02</td>
      <td>116.717</td>
      <td>3.850</td>
      <td>0.000</td>
      <td>2.662</td>
      <td>46.417</td>
      <td>12.000</td>
      <td>19.000</td>
      <td>28.500</td>
      <td>2021</td>
      <td>4</td>
      <td>2</td>
      <td>5</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2021-04-03</td>
      <td>82.669</td>
      <td>4.000</td>
      <td>0.565</td>
      <td>2.165</td>
      <td>77.258</td>
      <td>8.875</td>
      <td>16.368</td>
      <td>52.847</td>
      <td>2021</td>
      <td>4</td>
      <td>3</td>
      <td>6</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2021-04-04</td>
      <td>44.123</td>
      <td>3.466</td>
      <td>0.466</td>
      <td>3.747</td>
      <td>63.288</td>
      <td>6.250</td>
      <td>17.368</td>
      <td>37.671</td>
      <td>2021</td>
      <td>4</td>
      <td>4</td>
      <td>0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2021-04-05</td>
      <td>147.791</td>
      <td>1.500</td>
      <td>0.000</td>
      <td>1.560</td>
      <td>48.176</td>
      <td>7.188</td>
      <td>18.684</td>
      <td>4.459</td>
      <td>2021</td>
      <td>4</td>
      <td>5</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-b5119128-a449-43cd-8778-8b624aecfe9f')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>

  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-b5119128-a449-43cd-8778-8b624aecfe9f button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-b5119128-a449-43cd-8778-8b624aecfe9f');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>





```python
# 피쳐 제거
test = test.drop(['week_day'],axis = 1)
test = test.drop(['day'],axis = 1)
test = test.drop(['date_time'],axis = 1)

# 더위 점수
test['hot_score'] = test['high_temp'] * test['humidity']

# 추위 점수
test['cold_score'] = test['wind_speed'] / test['low_temp']
```


```python
x1 = sum(train[train['year'] == 2018]['number_of_rentals'])
x2 = sum(train[train['year'] == 2019]['number_of_rentals'])
x3 = sum(train[train['year'] == 2020]['number_of_rentals'])
x4 = sum(submission['number_of_rentals'])
```


```python
def rental_rate_change(df):
    y1 = df[df['year'] == 2018]['number_of_rentals'] * 3.3859145348144577
    y2 = df[df['year'] == 2019]['number_of_rentals'] * 1.6157080615278123
    y3 = df[df['year'] == 2020]['number_of_rentals'] * 1.3073770268514862
    new = pd.concat([y1, y2, y3], axis=0).to_frame()
    df['inflaction_rentals'] = new['number_of_rentals']
    return True
```


```python
rental_rate_change(train)
```




    True




```python
train.head()
```





  <div id="df-d7987f45-6c89-4470-baee-847d777d33ea">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>wind_direction</th>
      <th>sky_condition</th>
      <th>precipitation_form</th>
      <th>wind_speed</th>
      <th>humidity</th>
      <th>low_temp</th>
      <th>high_temp</th>
      <th>Precipitation_Probability</th>
      <th>number_of_rentals</th>
      <th>year</th>
      <th>month</th>
      <th>hot_score</th>
      <th>cold_score</th>
      <th>inflaction_rentals</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>207.500</td>
      <td>4.000</td>
      <td>0.000</td>
      <td>3.050</td>
      <td>75.000</td>
      <td>12.600</td>
      <td>21.000</td>
      <td>30.000</td>
      <td>22994</td>
      <td>2018</td>
      <td>4</td>
      <td>1575.000000</td>
      <td>0.242063</td>
      <td>77855.718814</td>
    </tr>
    <tr>
      <th>1</th>
      <td>208.317</td>
      <td>2.950</td>
      <td>0.000</td>
      <td>3.278</td>
      <td>69.833</td>
      <td>12.812</td>
      <td>19.000</td>
      <td>19.500</td>
      <td>28139</td>
      <td>2018</td>
      <td>4</td>
      <td>1326.827000</td>
      <td>0.255854</td>
      <td>95276.249095</td>
    </tr>
    <tr>
      <th>2</th>
      <td>213.516</td>
      <td>2.911</td>
      <td>0.000</td>
      <td>2.690</td>
      <td>74.879</td>
      <td>10.312</td>
      <td>15.316</td>
      <td>19.113</td>
      <td>26817</td>
      <td>2018</td>
      <td>4</td>
      <td>1146.846764</td>
      <td>0.260861</td>
      <td>90800.070080</td>
    </tr>
    <tr>
      <th>3</th>
      <td>143.836</td>
      <td>3.692</td>
      <td>0.425</td>
      <td>3.138</td>
      <td>71.849</td>
      <td>8.312</td>
      <td>12.368</td>
      <td>43.493</td>
      <td>26034</td>
      <td>2018</td>
      <td>4</td>
      <td>888.628432</td>
      <td>0.377526</td>
      <td>88148.898999</td>
    </tr>
    <tr>
      <th>4</th>
      <td>95.905</td>
      <td>4.000</td>
      <td>0.723</td>
      <td>3.186</td>
      <td>73.784</td>
      <td>5.875</td>
      <td>10.421</td>
      <td>63.378</td>
      <td>2833</td>
      <td>2018</td>
      <td>4</td>
      <td>768.903064</td>
      <td>0.542298</td>
      <td>9592.295877</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-d7987f45-6c89-4470-baee-847d777d33ea')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>

  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-d7987f45-6c89-4470-baee-847d777d33ea button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-d7987f45-6c89-4470-baee-847d777d33ea');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>





```python
X = train.drop(['number_of_rentals', 'inflaction_rentals'], axis=1)

X.head()
```





  <div id="df-adeda65a-7989-4f37-8be0-d66d2e156ac5">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>wind_direction</th>
      <th>sky_condition</th>
      <th>precipitation_form</th>
      <th>wind_speed</th>
      <th>humidity</th>
      <th>low_temp</th>
      <th>high_temp</th>
      <th>Precipitation_Probability</th>
      <th>year</th>
      <th>month</th>
      <th>hot_score</th>
      <th>cold_score</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>207.500</td>
      <td>4.000</td>
      <td>0.000</td>
      <td>3.050</td>
      <td>75.000</td>
      <td>12.600</td>
      <td>21.000</td>
      <td>30.000</td>
      <td>2018</td>
      <td>4</td>
      <td>1575.000000</td>
      <td>0.242063</td>
    </tr>
    <tr>
      <th>1</th>
      <td>208.317</td>
      <td>2.950</td>
      <td>0.000</td>
      <td>3.278</td>
      <td>69.833</td>
      <td>12.812</td>
      <td>19.000</td>
      <td>19.500</td>
      <td>2018</td>
      <td>4</td>
      <td>1326.827000</td>
      <td>0.255854</td>
    </tr>
    <tr>
      <th>2</th>
      <td>213.516</td>
      <td>2.911</td>
      <td>0.000</td>
      <td>2.690</td>
      <td>74.879</td>
      <td>10.312</td>
      <td>15.316</td>
      <td>19.113</td>
      <td>2018</td>
      <td>4</td>
      <td>1146.846764</td>
      <td>0.260861</td>
    </tr>
    <tr>
      <th>3</th>
      <td>143.836</td>
      <td>3.692</td>
      <td>0.425</td>
      <td>3.138</td>
      <td>71.849</td>
      <td>8.312</td>
      <td>12.368</td>
      <td>43.493</td>
      <td>2018</td>
      <td>4</td>
      <td>888.628432</td>
      <td>0.377526</td>
    </tr>
    <tr>
      <th>4</th>
      <td>95.905</td>
      <td>4.000</td>
      <td>0.723</td>
      <td>3.186</td>
      <td>73.784</td>
      <td>5.875</td>
      <td>10.421</td>
      <td>63.378</td>
      <td>2018</td>
      <td>4</td>
      <td>768.903064</td>
      <td>0.542298</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-adeda65a-7989-4f37-8be0-d66d2e156ac5')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>

  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-adeda65a-7989-4f37-8be0-d66d2e156ac5 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-adeda65a-7989-4f37-8be0-d66d2e156ac5');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>





```python
y = train['inflaction_rentals']

y.head()
```




    0    77855.718814
    1    95276.249095
    2    90800.070080
    3    88148.898999
    4     9592.295877
    Name: inflaction_rentals, dtype: float64




```python
from sklearn.ensemble import RandomForestRegressor

model = RandomForestRegressor(n_estimators = 100, random_state = 0, max_depth = 5)
```


```python
model.fit(X,y)
```




    RandomForestRegressor(max_depth=5, random_state=0)




```python
predict = model.predict(test)
```


```python
submission['number_of_rentals'] = predict

submission.head()
```





  <div id="df-6f8ccb32-5c09-43a9-b8ec-07898f73b5c7">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>date_time</th>
      <th>number_of_rentals</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2021-04-01</td>
      <td>99073.430657</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2021-04-02</td>
      <td>94938.145365</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2021-04-03</td>
      <td>44564.053827</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2021-04-04</td>
      <td>49516.203882</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2021-04-05</td>
      <td>95436.624749</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-6f8ccb32-5c09-43a9-b8ec-07898f73b5c7')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>

  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-6f8ccb32-5c09-43a9-b8ec-07898f73b5c7 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-6f8ccb32-5c09-43a9-b8ec-07898f73b5c7');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>





```python
submission.to_csv('submission_randomforest_1.csv', index = False)
```

# 검정


```python
import statsmodels.api as sm
results = sm.OLS(y, sm.add_constant(X)).fit()

results.summary()
```

    /usr/local/lib/python3.7/dist-packages/statsmodels/tools/_testing.py:19: FutureWarning: pandas.util.testing is deprecated. Use the functions in the public API at pandas.testing instead.
      import pandas.util.testing as tm
    /usr/local/lib/python3.7/dist-packages/statsmodels/tsa/tsatools.py:117: FutureWarning: In a future version of pandas all arguments of concat except for the argument 'objs' will be keyword-only
      x = pd.concat(x[::order], 1)
    




<table class="simpletable">
<caption>OLS Regression Results</caption>
<tr>
  <th>Dep. Variable:</th>    <td>inflaction_rentals</td> <th>  R-squared:         </th> <td>   0.760</td>
</tr>
<tr>
  <th>Model:</th>                    <td>OLS</td>        <th>  Adj. R-squared:    </th> <td>   0.749</td>
</tr>
<tr>
  <th>Method:</th>              <td>Least Squares</td>   <th>  F-statistic:       </th> <td>   68.80</td>
</tr>
<tr>
  <th>Date:</th>              <td>Mon, 18 Jul 2022</td>  <th>  Prob (F-statistic):</th> <td>1.83e-73</td>
</tr>
<tr>
  <th>Time:</th>                  <td>08:42:55</td>      <th>  Log-Likelihood:    </th> <td> -3040.1</td>
</tr>
<tr>
  <th>No. Observations:</th>       <td>   273</td>       <th>  AIC:               </th> <td>   6106.</td>
</tr>
<tr>
  <th>Df Residuals:</th>           <td>   260</td>       <th>  BIC:               </th> <td>   6153.</td>
</tr>
<tr>
  <th>Df Model:</th>               <td>    12</td>       <th>                     </th>     <td> </td>   
</tr>
<tr>
  <th>Covariance Type:</th>       <td>nonrobust</td>     <th>                     </th>     <td> </td>   
</tr>
</table>
<table class="simpletable">
<tr>
              <td></td>                 <th>coef</th>     <th>std err</th>      <th>t</th>      <th>P>|t|</th>  <th>[0.025</th>    <th>0.975]</th>  
</tr>
<tr>
  <th>const</th>                     <td> 2.527e+06</td> <td> 2.76e+06</td> <td>    0.915</td> <td> 0.361</td> <td>-2.91e+06</td> <td> 7.97e+06</td>
</tr>
<tr>
  <th>wind_direction</th>            <td>   33.8917</td> <td>   21.618</td> <td>    1.568</td> <td> 0.118</td> <td>   -8.677</td> <td>   76.461</td>
</tr>
<tr>
  <th>sky_condition</th>             <td> 6178.5711</td> <td> 7447.753</td> <td>    0.830</td> <td> 0.408</td> <td>-8487.022</td> <td> 2.08e+04</td>
</tr>
<tr>
  <th>precipitation_form</th>        <td> -5.58e+04</td> <td> 3.47e+04</td> <td>   -1.610</td> <td> 0.109</td> <td>-1.24e+05</td> <td> 1.24e+04</td>
</tr>
<tr>
  <th>wind_speed</th>                <td> 2000.8002</td> <td> 1633.541</td> <td>    1.225</td> <td> 0.222</td> <td>-1215.855</td> <td> 5217.456</td>
</tr>
<tr>
  <th>humidity</th>                  <td>  -59.1483</td> <td>  463.156</td> <td>   -0.128</td> <td> 0.898</td> <td> -971.162</td> <td>  852.866</td>
</tr>
<tr>
  <th>low_temp</th>                  <td> -250.8243</td> <td>  799.356</td> <td>   -0.314</td> <td> 0.754</td> <td>-1824.861</td> <td> 1323.212</td>
</tr>
<tr>
  <th>high_temp</th>                 <td> 1832.1321</td> <td> 1230.956</td> <td>    1.488</td> <td> 0.138</td> <td> -591.780</td> <td> 4256.045</td>
</tr>
<tr>
  <th>Precipitation_Probability</th> <td> -851.6441</td> <td>  762.820</td> <td>   -1.116</td> <td> 0.265</td> <td>-2353.735</td> <td>  650.447</td>
</tr>
<tr>
  <th>year</th>                      <td>-1244.7688</td> <td> 1365.196</td> <td>   -0.912</td> <td> 0.363</td> <td>-3933.018</td> <td> 1443.480</td>
</tr>
<tr>
  <th>month</th>                     <td> 1.028e+04</td> <td> 2936.764</td> <td>    3.499</td> <td> 0.001</td> <td> 4494.173</td> <td> 1.61e+04</td>
</tr>
<tr>
  <th>hot_score</th>                 <td>    3.3487</td> <td>   19.679</td> <td>    0.170</td> <td> 0.865</td> <td>  -35.401</td> <td>   42.099</td>
</tr>
<tr>
  <th>cold_score</th>                <td>-2.105e+04</td> <td> 6956.177</td> <td>   -3.027</td> <td> 0.003</td> <td>-3.48e+04</td> <td>-7356.335</td>
</tr>
</table>
<table class="simpletable">
<tr>
  <th>Omnibus:</th>       <td>41.171</td> <th>  Durbin-Watson:     </th> <td>   2.027</td>
</tr>
<tr>
  <th>Prob(Omnibus):</th> <td> 0.000</td> <th>  Jarque-Bera (JB):  </th> <td>  74.428</td>
</tr>
<tr>
  <th>Skew:</th>          <td>-0.821</td> <th>  Prob(JB):          </th> <td>6.89e-17</td>
</tr>
<tr>
  <th>Kurtosis:</th>      <td> 4.962</td> <th>  Cond. No.          </th> <td>6.56e+06</td>
</tr>
</table><br/><br/>Warnings:<br/>[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.<br/>[2] The condition number is large, 6.56e+06. This might indicate that there are<br/>strong multicollinearity or other numerical problems.



## P값이 0.05보다 큰 값은 제외하기

### ['humidity', 'low_temp', 'hot_score']


```python
train_ = train.drop(['humidity', 'low_temp', 'hot_score'], axis=1)

train_.head()
```





  <div id="df-3e75cc20-d8f6-4cdf-a095-fffdd79c46c3">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>wind_direction</th>
      <th>sky_condition</th>
      <th>precipitation_form</th>
      <th>wind_speed</th>
      <th>high_temp</th>
      <th>Precipitation_Probability</th>
      <th>number_of_rentals</th>
      <th>year</th>
      <th>month</th>
      <th>cold_score</th>
      <th>inflaction_rentals</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>207.500</td>
      <td>4.000</td>
      <td>0.000</td>
      <td>3.050</td>
      <td>21.000</td>
      <td>30.000</td>
      <td>22994</td>
      <td>2018</td>
      <td>4</td>
      <td>0.242063</td>
      <td>77855.718814</td>
    </tr>
    <tr>
      <th>1</th>
      <td>208.317</td>
      <td>2.950</td>
      <td>0.000</td>
      <td>3.278</td>
      <td>19.000</td>
      <td>19.500</td>
      <td>28139</td>
      <td>2018</td>
      <td>4</td>
      <td>0.255854</td>
      <td>95276.249095</td>
    </tr>
    <tr>
      <th>2</th>
      <td>213.516</td>
      <td>2.911</td>
      <td>0.000</td>
      <td>2.690</td>
      <td>15.316</td>
      <td>19.113</td>
      <td>26817</td>
      <td>2018</td>
      <td>4</td>
      <td>0.260861</td>
      <td>90800.070080</td>
    </tr>
    <tr>
      <th>3</th>
      <td>143.836</td>
      <td>3.692</td>
      <td>0.425</td>
      <td>3.138</td>
      <td>12.368</td>
      <td>43.493</td>
      <td>26034</td>
      <td>2018</td>
      <td>4</td>
      <td>0.377526</td>
      <td>88148.898999</td>
    </tr>
    <tr>
      <th>4</th>
      <td>95.905</td>
      <td>4.000</td>
      <td>0.723</td>
      <td>3.186</td>
      <td>10.421</td>
      <td>63.378</td>
      <td>2833</td>
      <td>2018</td>
      <td>4</td>
      <td>0.542298</td>
      <td>9592.295877</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-3e75cc20-d8f6-4cdf-a095-fffdd79c46c3')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>

  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-3e75cc20-d8f6-4cdf-a095-fffdd79c46c3 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-3e75cc20-d8f6-4cdf-a095-fffdd79c46c3');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>





```python
test_ = test.drop(['humidity', 'low_temp', 'hot_score'], axis=1)

test_.head()
```





  <div id="df-2871e10c-c42b-4116-b47c-9614dd84b572">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>wind_direction</th>
      <th>sky_condition</th>
      <th>precipitation_form</th>
      <th>wind_speed</th>
      <th>high_temp</th>
      <th>Precipitation_Probability</th>
      <th>year</th>
      <th>month</th>
      <th>cold_score</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>108.833</td>
      <td>3.000</td>
      <td>0.000</td>
      <td>2.900</td>
      <td>20.667</td>
      <td>18.333</td>
      <td>2021</td>
      <td>4</td>
      <td>0.245763</td>
    </tr>
    <tr>
      <th>1</th>
      <td>116.717</td>
      <td>3.850</td>
      <td>0.000</td>
      <td>2.662</td>
      <td>19.000</td>
      <td>28.500</td>
      <td>2021</td>
      <td>4</td>
      <td>0.221833</td>
    </tr>
    <tr>
      <th>2</th>
      <td>82.669</td>
      <td>4.000</td>
      <td>0.565</td>
      <td>2.165</td>
      <td>16.368</td>
      <td>52.847</td>
      <td>2021</td>
      <td>4</td>
      <td>0.243944</td>
    </tr>
    <tr>
      <th>3</th>
      <td>44.123</td>
      <td>3.466</td>
      <td>0.466</td>
      <td>3.747</td>
      <td>17.368</td>
      <td>37.671</td>
      <td>2021</td>
      <td>4</td>
      <td>0.599520</td>
    </tr>
    <tr>
      <th>4</th>
      <td>147.791</td>
      <td>1.500</td>
      <td>0.000</td>
      <td>1.560</td>
      <td>18.684</td>
      <td>4.459</td>
      <td>2021</td>
      <td>4</td>
      <td>0.217028</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-2871e10c-c42b-4116-b47c-9614dd84b572')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>

  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-2871e10c-c42b-4116-b47c-9614dd84b572 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-2871e10c-c42b-4116-b47c-9614dd84b572');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>





```python
X = train_.drop(['number_of_rentals', 'inflaction_rentals'], axis=1)

X.head()
```





  <div id="df-76a7dd31-a62d-480b-a307-1a1bf0a5f686">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>wind_direction</th>
      <th>sky_condition</th>
      <th>precipitation_form</th>
      <th>wind_speed</th>
      <th>high_temp</th>
      <th>Precipitation_Probability</th>
      <th>year</th>
      <th>month</th>
      <th>cold_score</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>207.500</td>
      <td>4.000</td>
      <td>0.000</td>
      <td>3.050</td>
      <td>21.000</td>
      <td>30.000</td>
      <td>2018</td>
      <td>4</td>
      <td>0.242063</td>
    </tr>
    <tr>
      <th>1</th>
      <td>208.317</td>
      <td>2.950</td>
      <td>0.000</td>
      <td>3.278</td>
      <td>19.000</td>
      <td>19.500</td>
      <td>2018</td>
      <td>4</td>
      <td>0.255854</td>
    </tr>
    <tr>
      <th>2</th>
      <td>213.516</td>
      <td>2.911</td>
      <td>0.000</td>
      <td>2.690</td>
      <td>15.316</td>
      <td>19.113</td>
      <td>2018</td>
      <td>4</td>
      <td>0.260861</td>
    </tr>
    <tr>
      <th>3</th>
      <td>143.836</td>
      <td>3.692</td>
      <td>0.425</td>
      <td>3.138</td>
      <td>12.368</td>
      <td>43.493</td>
      <td>2018</td>
      <td>4</td>
      <td>0.377526</td>
    </tr>
    <tr>
      <th>4</th>
      <td>95.905</td>
      <td>4.000</td>
      <td>0.723</td>
      <td>3.186</td>
      <td>10.421</td>
      <td>63.378</td>
      <td>2018</td>
      <td>4</td>
      <td>0.542298</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-76a7dd31-a62d-480b-a307-1a1bf0a5f686')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>

  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-76a7dd31-a62d-480b-a307-1a1bf0a5f686 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-76a7dd31-a62d-480b-a307-1a1bf0a5f686');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>





```python
y = train_['inflaction_rentals']

y.head()
```




    0    77855.718814
    1    95276.249095
    2    90800.070080
    3    88148.898999
    4     9592.295877
    Name: inflaction_rentals, dtype: float64




```python
model = RandomForestRegressor(n_estimators = 100, random_state = 0, max_depth = 5)
```


```python
model.fit(X,y)
```




    RandomForestRegressor(max_depth=5, random_state=0)




```python
predict = model.predict(test_)
```


```python
submission['number_of_rentals'] = predict

submission.head()
```





  <div id="df-529cf006-4688-4a51-9cc2-1923c13bc1eb">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>date_time</th>
      <th>number_of_rentals</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2021-04-01</td>
      <td>96223.168441</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2021-04-02</td>
      <td>91813.933756</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2021-04-03</td>
      <td>43448.722615</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2021-04-04</td>
      <td>51822.962933</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2021-04-05</td>
      <td>97595.525959</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-529cf006-4688-4a51-9cc2-1923c13bc1eb')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>

  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-529cf006-4688-4a51-9cc2-1923c13bc1eb button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-529cf006-4688-4a51-9cc2-1923c13bc1eb');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>





```python
submission.to_csv('submission_randomforest_2.csv', index = False)
```

# 선형회귀분석


```python
train
```





  <div id="df-a669b254-716c-4089-85bf-56f7afd8ceaf">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>wind_direction</th>
      <th>sky_condition</th>
      <th>precipitation_form</th>
      <th>wind_speed</th>
      <th>humidity</th>
      <th>low_temp</th>
      <th>high_temp</th>
      <th>Precipitation_Probability</th>
      <th>number_of_rentals</th>
      <th>year</th>
      <th>month</th>
      <th>hot_score</th>
      <th>cold_score</th>
      <th>inflaction_rentals</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>207.500</td>
      <td>4.000</td>
      <td>0.000</td>
      <td>3.050</td>
      <td>75.000</td>
      <td>12.600</td>
      <td>21.000</td>
      <td>30.000</td>
      <td>22994</td>
      <td>2018</td>
      <td>4</td>
      <td>1575.000000</td>
      <td>0.242063</td>
      <td>77855.718814</td>
    </tr>
    <tr>
      <th>1</th>
      <td>208.317</td>
      <td>2.950</td>
      <td>0.000</td>
      <td>3.278</td>
      <td>69.833</td>
      <td>12.812</td>
      <td>19.000</td>
      <td>19.500</td>
      <td>28139</td>
      <td>2018</td>
      <td>4</td>
      <td>1326.827000</td>
      <td>0.255854</td>
      <td>95276.249095</td>
    </tr>
    <tr>
      <th>2</th>
      <td>213.516</td>
      <td>2.911</td>
      <td>0.000</td>
      <td>2.690</td>
      <td>74.879</td>
      <td>10.312</td>
      <td>15.316</td>
      <td>19.113</td>
      <td>26817</td>
      <td>2018</td>
      <td>4</td>
      <td>1146.846764</td>
      <td>0.260861</td>
      <td>90800.070080</td>
    </tr>
    <tr>
      <th>3</th>
      <td>143.836</td>
      <td>3.692</td>
      <td>0.425</td>
      <td>3.138</td>
      <td>71.849</td>
      <td>8.312</td>
      <td>12.368</td>
      <td>43.493</td>
      <td>26034</td>
      <td>2018</td>
      <td>4</td>
      <td>888.628432</td>
      <td>0.377526</td>
      <td>88148.898999</td>
    </tr>
    <tr>
      <th>4</th>
      <td>95.905</td>
      <td>4.000</td>
      <td>0.723</td>
      <td>3.186</td>
      <td>73.784</td>
      <td>5.875</td>
      <td>10.421</td>
      <td>63.378</td>
      <td>2833</td>
      <td>2018</td>
      <td>4</td>
      <td>768.903064</td>
      <td>0.542298</td>
      <td>9592.295877</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>268</th>
      <td>228.662</td>
      <td>3.980</td>
      <td>0.223</td>
      <td>2.271</td>
      <td>78.378</td>
      <td>20.500</td>
      <td>27.526</td>
      <td>36.486</td>
      <td>96150</td>
      <td>2020</td>
      <td>6</td>
      <td>2157.432828</td>
      <td>0.110780</td>
      <td>125704.301132</td>
    </tr>
    <tr>
      <th>269</th>
      <td>207.770</td>
      <td>2.865</td>
      <td>0.081</td>
      <td>1.794</td>
      <td>78.412</td>
      <td>20.812</td>
      <td>28.842</td>
      <td>21.081</td>
      <td>107001</td>
      <td>2020</td>
      <td>6</td>
      <td>2261.558904</td>
      <td>0.086200</td>
      <td>139890.649250</td>
    </tr>
    <tr>
      <th>270</th>
      <td>282.568</td>
      <td>1.730</td>
      <td>0.000</td>
      <td>1.820</td>
      <td>72.736</td>
      <td>21.000</td>
      <td>29.053</td>
      <td>7.297</td>
      <td>98568</td>
      <td>2020</td>
      <td>6</td>
      <td>2113.199008</td>
      <td>0.086667</td>
      <td>128865.538783</td>
    </tr>
    <tr>
      <th>271</th>
      <td>137.027</td>
      <td>2.257</td>
      <td>0.088</td>
      <td>2.043</td>
      <td>70.473</td>
      <td>19.625</td>
      <td>26.000</td>
      <td>15.541</td>
      <td>70053</td>
      <td>2020</td>
      <td>6</td>
      <td>1832.298000</td>
      <td>0.104102</td>
      <td>91585.682862</td>
    </tr>
    <tr>
      <th>272</th>
      <td>120.797</td>
      <td>3.622</td>
      <td>0.432</td>
      <td>5.574</td>
      <td>77.061</td>
      <td>19.125</td>
      <td>26.053</td>
      <td>41.284</td>
      <td>38086</td>
      <td>2020</td>
      <td>6</td>
      <td>2007.670233</td>
      <td>0.291451</td>
      <td>49792.761445</td>
    </tr>
  </tbody>
</table>
<p>273 rows × 14 columns</p>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-a669b254-716c-4089-85bf-56f7afd8ceaf')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>

  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-a669b254-716c-4089-85bf-56f7afd8ceaf button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-a669b254-716c-4089-85bf-56f7afd8ceaf');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>





```python
test
```





  <div id="df-c2d8842a-e25e-401b-b892-7e966137f7b1">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>wind_direction</th>
      <th>sky_condition</th>
      <th>precipitation_form</th>
      <th>wind_speed</th>
      <th>humidity</th>
      <th>low_temp</th>
      <th>high_temp</th>
      <th>Precipitation_Probability</th>
      <th>year</th>
      <th>month</th>
      <th>hot_score</th>
      <th>cold_score</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>108.833</td>
      <td>3.000</td>
      <td>0.000</td>
      <td>2.900</td>
      <td>28.333</td>
      <td>11.800</td>
      <td>20.667</td>
      <td>18.333</td>
      <td>2021</td>
      <td>4</td>
      <td>585.558111</td>
      <td>0.245763</td>
    </tr>
    <tr>
      <th>1</th>
      <td>116.717</td>
      <td>3.850</td>
      <td>0.000</td>
      <td>2.662</td>
      <td>46.417</td>
      <td>12.000</td>
      <td>19.000</td>
      <td>28.500</td>
      <td>2021</td>
      <td>4</td>
      <td>881.923000</td>
      <td>0.221833</td>
    </tr>
    <tr>
      <th>2</th>
      <td>82.669</td>
      <td>4.000</td>
      <td>0.565</td>
      <td>2.165</td>
      <td>77.258</td>
      <td>8.875</td>
      <td>16.368</td>
      <td>52.847</td>
      <td>2021</td>
      <td>4</td>
      <td>1264.558944</td>
      <td>0.243944</td>
    </tr>
    <tr>
      <th>3</th>
      <td>44.123</td>
      <td>3.466</td>
      <td>0.466</td>
      <td>3.747</td>
      <td>63.288</td>
      <td>6.250</td>
      <td>17.368</td>
      <td>37.671</td>
      <td>2021</td>
      <td>4</td>
      <td>1099.185984</td>
      <td>0.599520</td>
    </tr>
    <tr>
      <th>4</th>
      <td>147.791</td>
      <td>1.500</td>
      <td>0.000</td>
      <td>1.560</td>
      <td>48.176</td>
      <td>7.188</td>
      <td>18.684</td>
      <td>4.459</td>
      <td>2021</td>
      <td>4</td>
      <td>900.120384</td>
      <td>0.217028</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>86</th>
      <td>177.149</td>
      <td>3.980</td>
      <td>0.223</td>
      <td>1.066</td>
      <td>74.628</td>
      <td>20.312</td>
      <td>28.579</td>
      <td>36.486</td>
      <td>2021</td>
      <td>6</td>
      <td>2132.793612</td>
      <td>0.052481</td>
    </tr>
    <tr>
      <th>87</th>
      <td>138.723</td>
      <td>2.777</td>
      <td>0.135</td>
      <td>1.290</td>
      <td>70.236</td>
      <td>20.812</td>
      <td>29.000</td>
      <td>18.378</td>
      <td>2021</td>
      <td>6</td>
      <td>2036.844000</td>
      <td>0.061983</td>
    </tr>
    <tr>
      <th>88</th>
      <td>111.095</td>
      <td>3.338</td>
      <td>1.270</td>
      <td>1.692</td>
      <td>70.338</td>
      <td>21.000</td>
      <td>28.789</td>
      <td>35.946</td>
      <td>2021</td>
      <td>6</td>
      <td>2024.960682</td>
      <td>0.080571</td>
    </tr>
    <tr>
      <th>89</th>
      <td>171.622</td>
      <td>3.270</td>
      <td>0.595</td>
      <td>1.470</td>
      <td>70.473</td>
      <td>21.000</td>
      <td>29.421</td>
      <td>27.770</td>
      <td>2021</td>
      <td>6</td>
      <td>2073.386133</td>
      <td>0.070000</td>
    </tr>
    <tr>
      <th>90</th>
      <td>181.709</td>
      <td>3.270</td>
      <td>0.703</td>
      <td>1.180</td>
      <td>75.203</td>
      <td>21.500</td>
      <td>30.211</td>
      <td>29.054</td>
      <td>2021</td>
      <td>6</td>
      <td>2271.957833</td>
      <td>0.054884</td>
    </tr>
  </tbody>
</table>
<p>91 rows × 12 columns</p>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-c2d8842a-e25e-401b-b892-7e966137f7b1')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>

  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-c2d8842a-e25e-401b-b892-7e966137f7b1 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-c2d8842a-e25e-401b-b892-7e966137f7b1');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>





```python
X = train.drop(['number_of_rentals', 'inflaction_rentals'], axis=1)

X.head()
```





  <div id="df-c7824bbe-418c-40a0-a3fd-1fbd7c467499">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>wind_direction</th>
      <th>sky_condition</th>
      <th>precipitation_form</th>
      <th>wind_speed</th>
      <th>humidity</th>
      <th>low_temp</th>
      <th>high_temp</th>
      <th>Precipitation_Probability</th>
      <th>year</th>
      <th>month</th>
      <th>hot_score</th>
      <th>cold_score</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>207.500</td>
      <td>4.000</td>
      <td>0.000</td>
      <td>3.050</td>
      <td>75.000</td>
      <td>12.600</td>
      <td>21.000</td>
      <td>30.000</td>
      <td>2018</td>
      <td>4</td>
      <td>1575.000000</td>
      <td>0.242063</td>
    </tr>
    <tr>
      <th>1</th>
      <td>208.317</td>
      <td>2.950</td>
      <td>0.000</td>
      <td>3.278</td>
      <td>69.833</td>
      <td>12.812</td>
      <td>19.000</td>
      <td>19.500</td>
      <td>2018</td>
      <td>4</td>
      <td>1326.827000</td>
      <td>0.255854</td>
    </tr>
    <tr>
      <th>2</th>
      <td>213.516</td>
      <td>2.911</td>
      <td>0.000</td>
      <td>2.690</td>
      <td>74.879</td>
      <td>10.312</td>
      <td>15.316</td>
      <td>19.113</td>
      <td>2018</td>
      <td>4</td>
      <td>1146.846764</td>
      <td>0.260861</td>
    </tr>
    <tr>
      <th>3</th>
      <td>143.836</td>
      <td>3.692</td>
      <td>0.425</td>
      <td>3.138</td>
      <td>71.849</td>
      <td>8.312</td>
      <td>12.368</td>
      <td>43.493</td>
      <td>2018</td>
      <td>4</td>
      <td>888.628432</td>
      <td>0.377526</td>
    </tr>
    <tr>
      <th>4</th>
      <td>95.905</td>
      <td>4.000</td>
      <td>0.723</td>
      <td>3.186</td>
      <td>73.784</td>
      <td>5.875</td>
      <td>10.421</td>
      <td>63.378</td>
      <td>2018</td>
      <td>4</td>
      <td>768.903064</td>
      <td>0.542298</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-c7824bbe-418c-40a0-a3fd-1fbd7c467499')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>

  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-c7824bbe-418c-40a0-a3fd-1fbd7c467499 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-c7824bbe-418c-40a0-a3fd-1fbd7c467499');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>





```python
y = train['inflaction_rentals']

y.head()
```




    0    77855.718814
    1    95276.249095
    2    90800.070080
    3    88148.898999
    4     9592.295877
    Name: inflaction_rentals, dtype: float64




```python
from sklearn.linear_model import LinearRegression

lr = LinearRegression()
```


```python
lr.fit(X, y)
```




    LinearRegression()




```python
print(lr.coef_[0])
print(lr.intercept_)
```

    33.891700483013366
    2527028.4277419806
    


```python
predict = lr.predict(test)
```


```python
submission['number_of_rentals'] = predict

submission.head()
```





  <div id="df-d10b4343-86ce-4d4b-a4bc-7caf6e35d5e9">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>date_time</th>
      <th>number_of_rentals</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2021-04-01</td>
      <td>94888.021483</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2021-04-02</td>
      <td>88594.443216</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2021-04-03</td>
      <td>30066.246372</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2021-04-04</td>
      <td>42350.928948</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2021-04-05</td>
      <td>94083.518514</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-d10b4343-86ce-4d4b-a4bc-7caf6e35d5e9')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>

  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-d10b4343-86ce-4d4b-a4bc-7caf6e35d5e9 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-d10b4343-86ce-4d4b-a4bc-7caf6e35d5e9');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>





```python
submission.to_csv('submission_lr_1.csv', index = False)
```


```python
results = sm.OLS(y, sm.add_constant(X)).fit()

results.summary()
```

    /usr/local/lib/python3.7/dist-packages/statsmodels/tsa/tsatools.py:117: FutureWarning: In a future version of pandas all arguments of concat except for the argument 'objs' will be keyword-only
      x = pd.concat(x[::order], 1)
    




<table class="simpletable">
<caption>OLS Regression Results</caption>
<tr>
  <th>Dep. Variable:</th>    <td>inflaction_rentals</td> <th>  R-squared:         </th> <td>   0.760</td>
</tr>
<tr>
  <th>Model:</th>                    <td>OLS</td>        <th>  Adj. R-squared:    </th> <td>   0.749</td>
</tr>
<tr>
  <th>Method:</th>              <td>Least Squares</td>   <th>  F-statistic:       </th> <td>   68.80</td>
</tr>
<tr>
  <th>Date:</th>              <td>Mon, 18 Jul 2022</td>  <th>  Prob (F-statistic):</th> <td>1.83e-73</td>
</tr>
<tr>
  <th>Time:</th>                  <td>08:42:56</td>      <th>  Log-Likelihood:    </th> <td> -3040.1</td>
</tr>
<tr>
  <th>No. Observations:</th>       <td>   273</td>       <th>  AIC:               </th> <td>   6106.</td>
</tr>
<tr>
  <th>Df Residuals:</th>           <td>   260</td>       <th>  BIC:               </th> <td>   6153.</td>
</tr>
<tr>
  <th>Df Model:</th>               <td>    12</td>       <th>                     </th>     <td> </td>   
</tr>
<tr>
  <th>Covariance Type:</th>       <td>nonrobust</td>     <th>                     </th>     <td> </td>   
</tr>
</table>
<table class="simpletable">
<tr>
              <td></td>                 <th>coef</th>     <th>std err</th>      <th>t</th>      <th>P>|t|</th>  <th>[0.025</th>    <th>0.975]</th>  
</tr>
<tr>
  <th>const</th>                     <td> 2.527e+06</td> <td> 2.76e+06</td> <td>    0.915</td> <td> 0.361</td> <td>-2.91e+06</td> <td> 7.97e+06</td>
</tr>
<tr>
  <th>wind_direction</th>            <td>   33.8917</td> <td>   21.618</td> <td>    1.568</td> <td> 0.118</td> <td>   -8.677</td> <td>   76.461</td>
</tr>
<tr>
  <th>sky_condition</th>             <td> 6178.5711</td> <td> 7447.753</td> <td>    0.830</td> <td> 0.408</td> <td>-8487.022</td> <td> 2.08e+04</td>
</tr>
<tr>
  <th>precipitation_form</th>        <td> -5.58e+04</td> <td> 3.47e+04</td> <td>   -1.610</td> <td> 0.109</td> <td>-1.24e+05</td> <td> 1.24e+04</td>
</tr>
<tr>
  <th>wind_speed</th>                <td> 2000.8002</td> <td> 1633.541</td> <td>    1.225</td> <td> 0.222</td> <td>-1215.855</td> <td> 5217.456</td>
</tr>
<tr>
  <th>humidity</th>                  <td>  -59.1483</td> <td>  463.156</td> <td>   -0.128</td> <td> 0.898</td> <td> -971.162</td> <td>  852.866</td>
</tr>
<tr>
  <th>low_temp</th>                  <td> -250.8243</td> <td>  799.356</td> <td>   -0.314</td> <td> 0.754</td> <td>-1824.861</td> <td> 1323.212</td>
</tr>
<tr>
  <th>high_temp</th>                 <td> 1832.1321</td> <td> 1230.956</td> <td>    1.488</td> <td> 0.138</td> <td> -591.780</td> <td> 4256.045</td>
</tr>
<tr>
  <th>Precipitation_Probability</th> <td> -851.6441</td> <td>  762.820</td> <td>   -1.116</td> <td> 0.265</td> <td>-2353.735</td> <td>  650.447</td>
</tr>
<tr>
  <th>year</th>                      <td>-1244.7688</td> <td> 1365.196</td> <td>   -0.912</td> <td> 0.363</td> <td>-3933.018</td> <td> 1443.480</td>
</tr>
<tr>
  <th>month</th>                     <td> 1.028e+04</td> <td> 2936.764</td> <td>    3.499</td> <td> 0.001</td> <td> 4494.173</td> <td> 1.61e+04</td>
</tr>
<tr>
  <th>hot_score</th>                 <td>    3.3487</td> <td>   19.679</td> <td>    0.170</td> <td> 0.865</td> <td>  -35.401</td> <td>   42.099</td>
</tr>
<tr>
  <th>cold_score</th>                <td>-2.105e+04</td> <td> 6956.177</td> <td>   -3.027</td> <td> 0.003</td> <td>-3.48e+04</td> <td>-7356.335</td>
</tr>
</table>
<table class="simpletable">
<tr>
  <th>Omnibus:</th>       <td>41.171</td> <th>  Durbin-Watson:     </th> <td>   2.027</td>
</tr>
<tr>
  <th>Prob(Omnibus):</th> <td> 0.000</td> <th>  Jarque-Bera (JB):  </th> <td>  74.428</td>
</tr>
<tr>
  <th>Skew:</th>          <td>-0.821</td> <th>  Prob(JB):          </th> <td>6.89e-17</td>
</tr>
<tr>
  <th>Kurtosis:</th>      <td> 4.962</td> <th>  Cond. No.          </th> <td>6.56e+06</td>
</tr>
</table><br/><br/>Warnings:<br/>[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.<br/>[2] The condition number is large, 6.56e+06. This might indicate that there are<br/>strong multicollinearity or other numerical problems.



## P값이 0.05보다 큰 값은 제외하기

### ['humidity', 'low_temp', 'hot_score']


```python
X = train_.drop(['number_of_rentals', 'inflaction_rentals'], axis=1)

X.head()
```





  <div id="df-0b615510-0bf7-4aac-9b22-f6ae32d62ac1">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>wind_direction</th>
      <th>sky_condition</th>
      <th>precipitation_form</th>
      <th>wind_speed</th>
      <th>high_temp</th>
      <th>Precipitation_Probability</th>
      <th>year</th>
      <th>month</th>
      <th>cold_score</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>207.500</td>
      <td>4.000</td>
      <td>0.000</td>
      <td>3.050</td>
      <td>21.000</td>
      <td>30.000</td>
      <td>2018</td>
      <td>4</td>
      <td>0.242063</td>
    </tr>
    <tr>
      <th>1</th>
      <td>208.317</td>
      <td>2.950</td>
      <td>0.000</td>
      <td>3.278</td>
      <td>19.000</td>
      <td>19.500</td>
      <td>2018</td>
      <td>4</td>
      <td>0.255854</td>
    </tr>
    <tr>
      <th>2</th>
      <td>213.516</td>
      <td>2.911</td>
      <td>0.000</td>
      <td>2.690</td>
      <td>15.316</td>
      <td>19.113</td>
      <td>2018</td>
      <td>4</td>
      <td>0.260861</td>
    </tr>
    <tr>
      <th>3</th>
      <td>143.836</td>
      <td>3.692</td>
      <td>0.425</td>
      <td>3.138</td>
      <td>12.368</td>
      <td>43.493</td>
      <td>2018</td>
      <td>4</td>
      <td>0.377526</td>
    </tr>
    <tr>
      <th>4</th>
      <td>95.905</td>
      <td>4.000</td>
      <td>0.723</td>
      <td>3.186</td>
      <td>10.421</td>
      <td>63.378</td>
      <td>2018</td>
      <td>4</td>
      <td>0.542298</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-0b615510-0bf7-4aac-9b22-f6ae32d62ac1')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>

  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-0b615510-0bf7-4aac-9b22-f6ae32d62ac1 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-0b615510-0bf7-4aac-9b22-f6ae32d62ac1');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>





```python
y = train_['inflaction_rentals']

y.head()
```




    0    77855.718814
    1    95276.249095
    2    90800.070080
    3    88148.898999
    4     9592.295877
    Name: inflaction_rentals, dtype: float64




```python
lr = LinearRegression()
```


```python
lr.fit(X, y)
```




    LinearRegression()




```python
print(lr.coef_[0])
print(lr.intercept_)
```

    35.28676146922024
    2390416.251454799
    


```python
predict = lr.predict(test_)
```


```python
submission['number_of_rentals'] = predict

submission.head()
```





  <div id="df-c44b5c70-5b28-48a5-a236-ec182c962ee1">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>date_time</th>
      <th>number_of_rentals</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2021-04-01</td>
      <td>95490.433101</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2021-04-02</td>
      <td>89109.665904</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2021-04-03</td>
      <td>30267.231675</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2021-04-04</td>
      <td>42161.058018</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2021-04-05</td>
      <td>93653.073068</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-c44b5c70-5b28-48a5-a236-ec182c962ee1')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>

  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-c44b5c70-5b28-48a5-a236-ec182c962ee1 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-c44b5c70-5b28-48a5-a236-ec182c962ee1');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>





```python
submission.to_csv('submission_lr_2.csv', index = False)
```
